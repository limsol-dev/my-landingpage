---
description: 
globs: 
alwaysApply: false
---
# âš¡ Performance & Optimization Excellence

## ğŸ“‹ PERFORMANCE CONTEXT
Korean pension booking platform requiring fast loading for Korean mobile users.
**CRITICAL**: Optimize for Korean network conditions and mobile-first usage.

## âœ… MUST DO - Performance Imperatives

### 1. Next.js 15 Optimization (MANDATORY)
```typescript
// âœ… CRITICAL: Image optimization
import Image from "next/image"

const OptimizedImage = () => (
  <Image
    src="/images/pension-room.jpg"
    alt="ë‹¬íŒ½ì´ ì•„ì§€íŠ¸ íœì…˜ ê°ì‹¤"
    width={800}
    height={600}
    priority={true}  // Above-the-fold images
    placeholder="blur"
    blurDataURL="data:image/jpeg;base64,..."
  />
)

// âœ… MANDATORY: Dynamic imports for code splitting
const BookingModal = dynamic(() => import('@/components/BookingModal'), {
  loading: () => <div>ì˜ˆì•½ í¼ ë¡œë”© ì¤‘...</div>,
  ssr: false  // Client-only components
})
```

### 2. Bundle Optimization (REQUIRED)
```typescript
// âœ… CRITICAL: Tree shaking imports
import { format } from 'date-fns'  // Not: import * as dateFns
import { Button } from '@/components/ui/button'  // Not: import * from ui

// âœ… MANDATORY: Lazy loading for Korean components
const KoreanDatePicker = lazy(() => 
  import('@/components/KoreanDatePicker').then(module => ({
    default: module.KoreanDatePicker
  }))
)
```

### 3. Korean Mobile Optimization (ESSENTIAL)
```typescript
// âœ… CRITICAL: Korean font optimization
const koreanFont = Inter({ 
  subsets: ['latin'],
  display: 'swap',  // Prevent FOIT
  preload: true
})

// âœ… MANDATORY: Mobile-first Korean UX
const KoreanResponsiveComponent = () => (
  <div className="
    text-sm sm:text-base     // Korean text sizes
    leading-relaxed          // Korean line-height
    tracking-tight           // Korean character spacing
    touch-manipulation       // Better mobile touch
  ">
</div>
)
```

## âŒ NEVER DO - Performance Violations

### ğŸš« FORBIDDEN Performance Patterns
```typescript
// âŒ NEVER: Large bundle imports
import * as _ from 'lodash'  // Use specific imports
import * as dateFns from 'date-fns'  // Use tree-shaking

// âŒ NEVER: Synchronous operations in components
const BadComponent = () => {
  const heavyCalculation = expensiveSync()  // Blocks UI
  return <div>{heavyCalculation}</div>
}

// âŒ NEVER: Unoptimized images
<img src="/large-image.jpg" />  // Use Next.js Image
```

---

## ğŸ¯ PERFORMANCE CHECKLIST
- [ ] Next.js Image for all images
- [ ] Dynamic imports for large components  
- [ ] Tree-shaking for external libraries
- [ ] Korean font optimization
- [ ] Mobile-first rendering strategy

